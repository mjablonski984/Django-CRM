{%  extends 'main.html' %}
{% load static %}
{% block content %}

<br>
<div class="row">	
	<div class="col-md mb-3 mb-md-0">
		<div class="card card-body">
			<div class="card-header">
				<h5 class="text-white">Customer</h5>
			</div>			
			<hr class="bg-secondary"/>
			<h5 style="text-align: center;padding: 10px">{{customer.name}}</h5>
		</div>
	</div>
	<div class="col-md mb-3 mb-md-0">
		<div class="card card-body">
			<div class="card-header">
				<h5 class="text-white">Total Orders</h5>
			</div>			
			<hr class="bg-secondary"/>
			<h5 style="text-align: center;padding: 10px">{{customer.order_set.all|length}}</h5>
		</div>
	</div>
	<div class="col-md mb-3 mb-md-0">
		<div class="card card-body">
			<div class="card-header">
				<h5 class="text-white">Last Order</h5>
			</div>			
			<hr class="bg-secondary"/>
			<h5 style="text-align: center;padding: 10px">Id : {{customer.order_set.last.id|truncatechars:10}} | {{customer.order_set.last.product.name|truncatechars:20}}</h5>
		</div>
	</div>
</div>

<div class="mx-auto my-4">
	<div class="card card-body">
		<div class="card-header">
            <h5 class="text-white">Create Order</h5>
        </div>
		<hr class="bg-secondary"/>
		<form class="form-inline mt-2" action="" method="POST">
			{% csrf_token %}
			<!--If not using formset, you can use form directive (no loop) -->		
			<!-- When using loop with form add form management_form -->
			{{ form.management_form }}
			{% for field in form %}
				<div class="card card-body col-12 col-sm-12 col-md-6 col-lg-4">
					<p class="my-3">Order {{ forloop.counter }}</p>
					<div class="w-full">
						<div class="form-group">{{ field }}</div>
					</div>
				</div>
			{% endfor %}
			<input class="btn btn-primary  col-12 col-md-6 col-lg-4 mx-auto my-4" type="submit" name="Submit">
		</form>
	</div>
</div>

{% endblock %}